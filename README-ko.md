# LLM 클라이언트 - 다중 AI 제공업체 지원

[한국어](README-ko.md) | [日本語](README-jp.md) | [English](README.md)

MyOllama3는 SwiftUI로 개발된 iOS 애플리케이션으로, Ollama 서버, LMStudio, Claude API, OpenAI API 등 다중 AI 제공업체에 연결하여 대화형 AI 챗봇 기능을 제공합니다.

![poster](./captures.jpg)

## 🎁 앱 다운로드

- 빌드에 어려움이 있는 분들은 아래 링크에서 앱을 다운로드할 수 있습니다.
- [https://apps.apple.com/us/app/llm-client-for-ollama/id6738298481](https://apps.apple.com/us/app/llm-client-for-ollama/id6738298481)

## 📱 프로젝트 개요

이 앱은 **개인정보 보호**와 **유연성**을 중시하는 사용자를 위해 설계된 **통합 AI 대화 애플리케이션**입니다. 여러 대형 언어 모델(LLM) 제공업체와 상호작용할 수 있는 직관적인 인터페이스를 제공하며, 모든 대화 내용은 사용자의 기기에만 안전하게 저장됩니다.

## ✨ 핵심 기능

### 🤖 다중 제공업체 AI 지원
- **Ollama 통합**: 로컬 또는 원격 Ollama 서버 연결
- **LMStudio 호환성**: LMStudio 로컬 추론 서버 지원  
- **Claude API**: Anthropic의 Claude 모델과 직접 통합
- **OpenAI API**: OpenAI API를 통한 GPT 모델 지원
- **동적 전환**: 대화 중 제공업체 간 원활한 전환
- **제공업체 기억**: 마지막 사용한 LLM 제공업체와 모델 자동 기억

### 🔄 향상된 사용자 경험
- **실시간 모델 업데이트**: 제공업체 전환 시 사용 가능한 모델 자동 새로고침
- **지속적 선택**: 앱 실행 시 마지막 사용한 LLM과 모델 자동 복원
- **동적 구성**: 앱 재시작 없이 모든 설정 실시간 적용
- **연결 상태**: 서버/API 연결 상태 실시간 모니터링
- **유연한 URL 처리**: 빈/잘못된 URL에 대한 우아한 오류 처리

### 🤖 AI 대화 기능
- **실시간 스트리밍 응답**: 스트리밍 지원으로 빠른 실시간 AI 응답
- **다중 모델 지원**: 지원 제공업체의 모든 AI 모델 (Llama, Mistral, Qwen, GPT, Claude 등)
- **멀티모달 대화**: 비전 모델을 통한 이미지 첨부 및 이미지 분석 지원
- **문서 처리**: PDF 및 텍스트 파일 업로드 및 분석 기능
- **파일 첨부 지원**: 이미지(JPG, PNG, GIF 등), PDF 문서, 텍스트 파일 등 다양한 파일 형식 지원
- **응답 취소**: 언제든지 AI 응답 생성 중단 가능
- **자동 이미지 크기 조정**: 최적 성능을 위한 자동 이미지 압축 및 크기 조정

### 📚 대화 관리
- **지속적 저장**: SQLite 데이터베이스를 사용한 모든 대화 기록 자동 저장
- **대화 검색**: 키워드 기반 대화 내용 검색 기능
- **대화 복원**: 이전 대화 불러오기 및 원활한 연속
- **제공업체별 관리**: 다른 AI 제공업체와의 대화 별도 관리
- **메시지 관리**: 컨텍스트 메뉴로 개별 메시지 복사, 공유, 삭제
- **전체 대화 내보내기**: 외부 사용을 위한 전체 대화 텍스트 내보내기
- **대화 삭제**: 확인과 함께 완전한 대화 제거

### ⚙️ 고급 설정
- **다중 제공업체 구성**: Ollama, LMStudio, Claude, OpenAI를 개별적으로 관리
- **API 키 관리**: Claude 및 OpenAI API 키의 안전한 저장 및 관리
- **AI 매개변수 조정**: Temperature (0.1-2.0), Top P (0.1-1.0), Top K (1-100) 세밀 조정
- **사용자 정의 지시사항**: AI 행동 사용자 정의를 위한 시스템 프롬프트 설정
- **연결 테스트**: 모든 지원 제공업체에 대한 내장 연결 테스트
- **설정 지속성**: 모든 설정 자동 저장 및 복원
- **실시간 설정 적용**: 앱 재시작 없이 설정 변경 즉시 적용
- **데이터 관리**: 확인과 함께 완전한 대화 데이터 삭제

### 🌍 사용자 경험
- **다국어 지원**: 한국어, 영어, 일본어 완전 현지화
- **다크 모드 지원**: 시스템 테마에 따른 자동 색상 적응
- **직관적 UI**: 메시지 버블, 컨텍스트 메뉴, 햅틱 피드백, 반응형 디자인
- **접근성**: VoiceOver 및 접근성 기능 지원
- **카메라 통합**: 이미지 캡처 및 분석을 위한 직접 카메라 액세스
- **문서 선택기**: 네이티브 iOS 문서 선택기 통합
- **터치 제스처**: 메시지 작업을 위한 길게 누르기, 키보드 해제를 위한 탭
- **로딩 상태**: 모든 비동기 작업에 대한 시각적 피드백

### 📎 파일 및 미디어 지원
- **이미지 형식**: JPG, JPEG, PNG, GIF, BMP, TIFF, HEIC, WebP
- **문서 형식**: PDF (텍스트 추출 포함), TXT, RTF, 일반 텍스트
- **이미지 처리**: 자동 압축 및 Base64 인코딩
- **PDF 텍스트 추출**: PDF 문서에서 전체 텍스트 추출
- **파일 미리보기**: 전송 전 첨부 파일 시각적 미리보기
- **다중 형식 처리**: 지능적 파일 유형 감지 및 처리

## 🏗️ 아키텍처 구조

```
myollama3/
├── 📱 UI Views
│   ├── ContentView.swift          # 메인 화면 (대화 목록 및 새 대화)
│   ├── ChatView.swift            # 채팅 인터페이스 (실시간 대화)
│   ├── SettingsView.swift        # 다중 제공업체 설정 화면
│   ├── WelcomeView.swift         # 온보딩 화면 (첫 실행 가이드)
│   └── AboutView.swift           # 앱 정보 및 사용 가이드
│
├── 🧩 Components
│   ├── MessageBubble.swift       # 메시지 버블 UI (마크다운 렌더링)
│   ├── MessageInputView.swift    # 동적 모델 로딩이 포함된 향상된 입력
│   ├── DocumentPicker.swift      # 문서 선택 및 처리
│   ├── CameraPicker.swift        # 카메라 통합 컴포넌트
│   └── ShareSheet.swift          # 네이티브 공유 기능
│
├── ⚙️ Services
│   ├── swift_llm_bridge.swift   # 통합 다중 제공업체 LLM 통신
│   └── DatabaseService.swift    # SQLite 데이터베이스 관리
│
├── 🔧 Utils & Extensions
│   ├── AppColor.swift           # 적응형 색상 테마 관리
│   ├── ImagePicker.swift        # 카메라/갤러리 이미지 선택
│   ├── Localized.swift          # 다국어 문자열 확장
│   ├── KeyboardExtensions.swift # 키보드 관리 유틸리티
│   └── SettingsManager.swift    # 중앙 집중식 설정 및 지속성 관리
│
└── 🌍 Localization
    ├── ko.lproj/                # 한국어 (기본)
    ├── en.lproj/                # 영어
    └── ja.lproj/                # 일본어
```

### 🔧 주요 아키텍처 변경사항

#### 동적 구성 시스템
- **정적 구성 제거**: 하드코딩된 서버 설정 제거
- **UserDefaults 통합**: 모든 구성을 지속적 저장소에서 동적으로 읽기
- **실시간 업데이트**: 앱 재시작 없이 설정 변경 즉시 적용
- **제공업체 전환**: 다른 AI 제공업체 간 원활한 전환

#### 향상된 LLM 브릿지
- **다중 제공업체 지원**: 모든 지원 AI 제공업체를 위한 단일 통합 인터페이스
- **동적 베이스 URL**: 빈 문자열 지원으로 유연한 URL 처리
- **제공업체 감지**: 자동 제공업체 식별 및 적절한 API 처리
- **지속적 상태**: 마지막 사용한 제공업체와 모델 자동 복원

## 🚀 사용법

### 1. 초기 설정

#### Ollama/LMStudio (로컬 서버)용
1. **서버 준비**: Ollama 또는 LMStudio 서버를 로컬 또는 네트워크에서 실행
2. **첫 앱 실행**: 시작 화면에서 서버 설정 가이드 확인
3. **서버 주소 입력**: 설정 → LLM 서버로 이동하여 URL 입력 (예: `http://192.168.0.1:11434`)
4. **제공업체 활성화**: Ollama 서버 또는 LMStudio 토글 켜기
5. **연결 테스트**: "서버 연결 상태 확인" 버튼으로 연결 테스트

#### Claude/OpenAI (API 서비스)용
1. **API 키 획득**: Anthropic 또는 OpenAI에서 API 키 받기
2. **제공업체 활성화**: 설정 → Claude API 또는 OpenAI API 토글 켜기
3. **API 키 입력**: 해당 필드에 API 키 입력
4. **매개변수 구성**: Temperature, Top P, Top K 값 필요에 따라 조정

### 2. 대화 시작
1. **새 대화**: 메인 화면에서 "새 대화 시작" 버튼 터치
2. **제공업체 선택**: 드롭다운에서 AI 제공업체 선택 (Ollama, LMStudio, Claude, 또는 OpenAI)
3. **모델 선택**: 선택한 제공업체에 따라 사용 가능한 모델이 자동으로 업데이트됨
4. **메시지 입력**: 하단 입력 필드에 질문이나 지시사항 입력
5. **파일 첨부**: 클립 아이콘을 사용하여 이미지, PDF, 텍스트 파일 추가 (지원되는 경우)
6. **메시지 전송**: 화살표 버튼 또는 Enter 키로 전송

### 2.1. 제공업체별 기능
- **Ollama/LMStudio**: 로컬 처리로 완전한 멀티모달 지원
- **Claude**: 이미지 분석 기능을 갖춘 고급 추론
- **OpenAI**: 포괄적인 기능 지원을 갖춘 GPT 모델
- **자동 복원**: 앱 재시작 시 마지막 사용한 제공업체와 모델 자동 복원

## 🔧 제공업체 설정 가이드

### Ollama 서버 설정
#### 로컬 서버 (macOS/Linux)
```bash
# Ollama 설치
curl -fsSL https://ollama.ai/install.sh | sh

# 서버 시작 (외부 액세스 허용)
OLLAMA_HOST=0.0.0.0:11434 ollama serve

# 모델 다운로드 예시
ollama pull llama2
ollama pull mistral
ollama pull qwen
ollama pull llava              # 이미지 분석용
ollama pull codellama         # 코드 지원용
```

#### 네트워크 구성
- **방화벽**: 11434 포트 열기
- **라우터**: 필요시 포트 포워딩 설정
- **IP 주소**: 앱 설정에 올바른 서버 IP 입력
- **연결 테스트**: 내장 연결 테스트 기능 사용

### LMStudio 설정
1. **LMStudio 다운로드**: [https://lmstudio.ai](https://lmstudio.ai)에서 설치
2. **모델 로드**: 선호하는 모델 다운로드 및 로드
3. **서버 시작**: 로컬 서버 활성화 (기본 포트: 1234)
4. **앱 구성**: 앱 설정에 LMStudio 서버 URL 입력

### Claude API 설정
1. **API 키 받기**: [https://console.anthropic.com](https://console.anthropic.com)에서 가입
2. **API 키 생성**: 계정 설정에서 API 키 생성
3. **앱 구성**: 설정 → Claude API에 API 키 입력
4. **제공업체 활성화**: 앱에서 Claude API 토글 켜기

### OpenAI API 설정
1. **API 키 받기**: [https://platform.openai.com](https://platform.openai.com)에서 가입
2. **API 키 생성**: 계정에서 API 키 생성
3. **앱 구성**: 설정 → OpenAI API에 API 키 입력
4. **제공업체 활성화**: 앱에서 OpenAI API 토글 켜기

## 🚀 지원 모델

### Ollama 모델
Ollama를 통해 사용 가능한 모든 모델이 지원됩니다:
- **Llama 2/3**: 뛰어난 성능의 일반 대화 모델
- **Mistral**: 다국어 지원을 갖춘 고성능 대화 모델
- **Qwen**: 강력한 추론 능력을 가진 고급 다국어 지원 모델
- **Gemma**: Google의 경량화되고 효율적인 모델
- **CodeLlama**: 프로그래밍 및 개발 지원
- **DeepSeek-Coder**: 여러 언어를 지원하는 고급 코딩 전문가
- **LLaVA**: 이미지 인식 및 시각적 분석 모델
- **Bakllava**: 복잡한 시각적 작업을 위한 고급 비전-언어 모델

### LMStudio 모델
LMStudio의 OpenAI 호환 API와 호환되는 모든 모들:
- **양자화 모델**: 다양한 양자화 수준의 GGUF 형식 모델
- **로컬 모델**: 로컬에서 실행되는 다운로드된 모델
- **사용자 정의 모델**: 사용자가 가져온 모델 및 파인튜닝된 버전

### Claude 모델 (Anthropic)
- **Claude 3 Haiku**: 일상적인 작업을 위한 빠르고 효율적인 모델
- **Claude 3 Sonnet**: 대부분의 사용 사례를 위한 균형 잡힌 성능
- **Claude 3 Opus**: 복잡한 작업을 위한 가장 능력 있는 모델
- **Claude 3.5 Sonnet**: 향상된 기능을 가진 최신 모델

### OpenAI 모델
- **GPT-4**: 비전 기능을 갖춘 최신 멀티모달 모델
- **GPT-4 Turbo**: 더 큰 컨텍스트 윈도우를 가진 최적화된 버전
- **GPT-3.5 Turbo**: 빠르고 비용 효율적인 모델
- **사용자 정의 모델**: 계정에서 사용 가능한 파인튜닝된 모델

## 🔐 개인정보 보호

MyOllama3는 사용자 개인정보를 우선시합니다:

- ✅ **로컬 저장**: 모든 대화 내용을 사용자 기기에만 저장
- ✅ **외부 전송 없음**: 구성된 제공업체 서버 외에는 데이터 전송 없음
- ✅ **로컬 AI 처리**: 모든 AI 처리가 로컬 서버에서 수행 (Ollama/LMStudio의 경우)
- ✅ **파일 보안**: 범위가 지정된 리소스 액세스로 안전한 파일 처리
- ✅ **암호화**: SQLite 데이터베이스 기본 보안 적용
- ✅ **추적 없음**: 사용자 행동 추적이나 분석 데이터 수집 없음
- ✅ **데이터 제어**: 데이터 삭제에 대한 완전한 사용자 제어

## 📋 시스템 요구사항

- **iOS**: 16.0 이상
- **Xcode**: 15.0 이상 (개발용)
- **Swift**: 5.9 이상
- **네트워크**: 로컬 네트워크 또는 원격 서버에서 실행되는 제공업체 서버/API
- **저장소**: 최소 100MB (대화 기록 및 첨부 파일에 따른 추가 공간)
- **메모리**: 이미지 처리 및 PDF 텍스트 추출을 위한 적절한 RAM

---

**MyOllama3로 고급 파일 지원을 갖춘 안전하고 사적인 AI 대화를 경험하세요! 🚀**